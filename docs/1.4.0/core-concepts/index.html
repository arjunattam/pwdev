<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.66">
<link rel="search" type="application/opensearchdescription+xml" title="Playwright" href="/pwdev/opensearch.xml">
<script src="js/redirection.js"></script><title data-react-helmet="true">Core concepts | Playwright</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="1.4.0"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-1.4.0"><meta data-react-helmet="true" property="og:title" content="Core concepts | Playwright"><meta data-react-helmet="true" name="description" content="Playwright provides a set of APIs to automate Chromium, Firefox and WebKit"><meta data-react-helmet="true" property="og:description" content="Playwright provides a set of APIs to automate Chromium, Firefox and WebKit"><meta data-react-helmet="true" property="og:url" content="https://arjunattam.github.io/pwdev/docs/1.4.0/core-concepts"><link data-react-helmet="true" rel="shortcut icon" href="/pwdev/img/playwright-logo.svg"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://arjunattam.github.io/pwdev/docs/1.4.0/core-concepts"><link rel="stylesheet" href="/pwdev/styles.fe0d5519.css">
<link rel="preload" href="/pwdev/styles.b22cf2e2.js" as="script">
<link rel="preload" href="/pwdev/runtime~main.3a5fc328.js" as="script">
<link rel="preload" href="/pwdev/main.6809d955.js" as="script">
<link rel="preload" href="/pwdev/1.13f92296.js" as="script">
<link rel="preload" href="/pwdev/2.e3aa1740.js" as="script">
<link rel="preload" href="/pwdev/548.5dfb922d.js" as="script">
<link rel="preload" href="/pwdev/551.36aac119.js" as="script">
<link rel="preload" href="/pwdev/fa9bdbac.acc1761f.js" as="script">
<link rel="preload" href="/pwdev/17896441.d2fde38e.js" as="script">
<link rel="preload" href="/pwdev/9ea2dac8.e8b71a5a.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/pwdev/"><img class="navbar__logo" src="/pwdev/img/playwright-logo.svg" alt="Playwright logo"><strong class="navbar__title">Playwright</strong></a><a class="navbar__item navbar__link navbar__link--active" href="/pwdev/docs/1.4.0/intro">Docs</a><a class="navbar__item navbar__link" href="/pwdev/docs/1.4.0/api/playwright-module">API</a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link" href="/pwdev/docs/1.4.0/why-playwright">1.4.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/pwdev/docs/next/core-concepts">Next</a></li><li><a class="dropdown__link" href="/pwdev/docs/core-concepts">1.3.0</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/pwdev/docs/1.4.0/core-concepts">1.4.0</a></li><li><a class="dropdown__link" href="/pwdev/docs/1.5.0/core-concepts">1.5.0</a></li><li><a class="dropdown__link" href="/pwdev/docs/1.5.1/core-concepts">1.5.1</a></li><li><a class="dropdown__link" href="/pwdev/docs/1.5.2/core-concepts">1.5.2</a></li><li><a class="dropdown__link" href="/pwdev/docs/1.6.0/core-concepts">1.6.0</a></li><li><a class="dropdown__link" href="/pwdev/docs/1.6.1/core-concepts">1.6.1</a></li><li><a class="dropdown__link" href="/pwdev/versions">All versions</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/pwdev/blog">Blog</a><a href="https://github.com/microsoft/playwright" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">âŒ˜</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/pwdev/"><img class="navbar__logo" src="/pwdev/img/playwright-logo.svg" alt="Playwright logo"><strong class="navbar__title">Playwright</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/pwdev/docs/1.4.0/intro">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/pwdev/docs/1.4.0/api/playwright-module">API</a></li><li class="menu__list-item"><a class="menu__link" href="/pwdev/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/microsoft/playwright" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/pwdev/docs/next/core-concepts">Next</a></li><li class="menu__list-item"><a class="menu__link" href="/pwdev/docs/core-concepts">1.3.0</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/pwdev/docs/1.4.0/core-concepts">1.4.0</a></li><li class="menu__list-item"><a class="menu__link" href="/pwdev/docs/1.5.0/core-concepts">1.5.0</a></li><li class="menu__list-item"><a class="menu__link" href="/pwdev/docs/1.5.1/core-concepts">1.5.1</a></li><li class="menu__list-item"><a class="menu__link" href="/pwdev/docs/1.5.2/core-concepts">1.5.2</a></li><li class="menu__list-item"><a class="menu__link" href="/pwdev/docs/1.6.0/core-concepts">1.6.0</a></li><li class="menu__list-item"><a class="menu__link" href="/pwdev/docs/1.6.1/core-concepts">1.6.1</a></li><li class="menu__list-item"><a class="menu__link" href="/pwdev/versions">All versions</a></li></ul></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/pwdev/docs/1.4.0/why-playwright">Why Playwright?</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/pwdev/docs/1.4.0/intro">Getting Started</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/pwdev/docs/1.4.0/core-concepts">Core concepts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/pwdev/docs/1.4.0/debug">Debugging tools</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/pwdev/docs/1.4.0/languages">Supported languages</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/pwdev/docs/1.4.0/selectors">Element selectors</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/pwdev/docs/1.4.0/input">Input</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/pwdev/docs/1.4.0/emulation">Device and environment emulation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/pwdev/docs/1.4.0/network">Network</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/pwdev/docs/1.4.0/assertions">Assertions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/pwdev/docs/1.4.0/verification">Verification</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/pwdev/docs/1.4.0/navigations">Navigations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/pwdev/docs/1.4.0/multi-pages">Multi-page scenarios</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!">Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/pwdev/docs/1.4.0/auth">Authentication</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/pwdev/docs/1.4.0/pom">Page Object Models</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!">Integrations</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/pwdev/docs/1.4.0/test-runners">Test Runners</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/pwdev/docs/1.4.0/docker/README">Running Playwright in Docker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/pwdev/docs/1.4.0/ci">Continuous Integration</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!">Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/pwdev/docs/1.4.0/actionability">Actionability</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/pwdev/docs/1.4.0/installation">Advanced installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/pwdev/docs/1.4.0/extensibility">Extensibility</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for Playwright <strong>1.4.0</strong>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <strong><a href="/pwdev/docs/core-concepts">latest version</a></strong> (1.3.0).</div></div><div class="docItemContainer_3QWW"><article><div><span class="badge badge--secondary">Version: 1.4.0</span></div><header><h1 class="docTitle_1Lrw">Core concepts</h1></header><div class="markdown"><p>Playwright provides a set of APIs to automate Chromium, Firefox and WebKit
browsers. By using the Playwright API, you can write JavaScript code to create
new browser pages, navigate to URLs and then interact with elements on a page.</p><p>Along with a test runner Playwright can be used to automate user interactions to
validate and test web applications. The Playwright API enables this through
the following primitives.</p><ul><li><a href="#browser">Browser</a></li><li><a href="#browser-contexts">Browser contexts</a></li><li><a href="#pages-and-frames">Pages and frames</a></li><li><a href="#selectors">Selectors</a></li><li><a href="#auto-waiting">Auto-waiting</a></li><li><a href="#execution-contexts-nodejs-and-browser">Execution contexts: Node.js and Browser</a></li><li><a href="#object--element-handles">Object &amp; Element handles</a></li></ul><br><h2 id="browser">Browser</h2><p>A <a href="/pwdev/docs/1.4.0/api#class-browser"><code>Browser</code></a> refers to an instance of Chromium, Firefox
or WebKit. Playwright scripts generally start with launching a browser instance
and end with closing the browser. Browser instances can be launched in headless
(without a GUI) or headful mode.</p><pre><code class="language-js">const { chromium } = require(&#x27;playwright&#x27;);  // Or &#x27;firefox&#x27; or &#x27;webkit&#x27;.

const browser = await chromium.launch({ headless: false });
await browser.close();
</code></pre><p>Launching a browser instance can be expensive, and Playwright is designed to
maximize what a single instance can do through multiple browser contexts.</p><h4 id="api-reference">API reference</h4><ul><li><a href="/pwdev/docs/1.4.0/api#class-browser">class <code>Browser</code></a></li></ul><br><h2 id="browser-contexts">Browser contexts</h2><p>A <a href="/pwdev/docs/1.4.0/api#class-browsercontext"><code>BrowserContext</code></a> is an isolated incognito-alike
session within a browser instance. Browser contexts are fast and cheap to create.
Browser contexts can be used to parallelize isolated test executions.</p><pre><code class="language-js">const browser = await chromium.launch();
const context = await browser.newContext();
</code></pre><p>Browser contexts can also be used to emulate multi-page scenarios involving
mobile devices, permissions, locale and color scheme.</p><pre><code class="language-js">const { devices } = require(&#x27;playwright&#x27;);
const iPhone = devices[&#x27;iPhone 11 Pro&#x27;];

const context = await browser.newContext({
  ...iPhone,
  permissions: [&#x27;geolocation&#x27;],
  geolocation: { latitude: 52.52, longitude: 13.39},
  colorScheme: &#x27;dark&#x27;,
  locale: &#x27;de-DE&#x27;
});
</code></pre><h4 id="api-reference-1">API reference</h4><ul><li><a href="/pwdev/docs/1.4.0/api#class-browsercontext">class <code>BrowserContext</code></a></li><li><a href="/pwdev/docs/1.4.0/api#browsernewcontextoptions">browser.newContext([options])</a></li></ul><br><h2 id="pages-and-frames">Pages and frames</h2><p>A Browser context can have multiple pages. A <a href="/pwdev/docs/1.4.0/api#class-page"><code>Page</code></a>
refers to a single tab or a popup window within a browser context. It should be used to navigate to URLs and interact with the page content.</p><pre><code class="language-js">// Create a page.
const page = await context.newPage();

// Navigate explicitly, similar to entering a URL in the browser.
await page.goto(&#x27;http://example.com&#x27;);
// Fill an input.
await page.fill(&#x27;#search&#x27;, &#x27;query&#x27;);

// Navigate implicitly by clicking a link.
await page.click(&#x27;#submit&#x27;);
// Expect a new url.
console.log(page.url());

// Page can navigate from the script - this will be picked up by Playwright.
window.location.href = &#x27;https://example.com&#x27;;
</code></pre><blockquote><p>Read more on <a href="/pwdev/docs/1.4.0/navigations">page navigation and loading</a>.</p></blockquote><p>A page can have one or more <a href="/pwdev/docs/1.4.0/api#class-frame">Frame</a> objects attached to
it. Each page has a main frame and page-level interactions (like <code>click</code>) are
assumed to operate in the main frame.</p><p>A page can have additional frames attached with the <code>iframe</code> HTML tag. These
frames can be accessed for interactions inside the frame.</p><pre><code class="language-js">// Get frame using the frame&#x27;s name attribute
const frame = page.frame(&#x27;frame-login&#x27;);

// Get frame using frame&#x27;s URL
const frame = page.frame({ url: /.*domain.*/ });

// Get frame using any other selector
const frameElementHandle = await page.$(&#x27;.frame-class&#x27;);
const frame = await frameElementHandle.contentFrame();

// Interact with the frame
await frame.fill(&#x27;#username-input&#x27;, &#x27;John&#x27;);
</code></pre><h4 id="api-reference-2">API reference</h4><ul><li><a href="/pwdev/docs/1.4.0/api#class-page">class <code>Page</code></a></li><li><a href="/pwdev/docs/1.4.0/api#class-frame">class <code>Frame</code></a></li><li><a href="/pwdev/docs/1.4.0/api#pageframeoptions">page.frame(options)</a></li></ul><br><h2 id="selectors">Selectors</h2><p>Playwright can search for elements using CSS selectors, XPath selectors, HTML attributes like <code>id</code>, <code>data-test-id</code> and even text content.</p><p>You can explicitly specify the selector engine you are using or let Playwright detect it.</p><p>All selector engines except for XPath pierce shadow DOM by default. If you want to enforce regular DOM selection, you can use the <code>*:light</code> versions of the selectors. You don&#x27;t typically need to though.</p><p>Learn more about selectors and selector engines <a href="/pwdev/docs/1.4.0/selectors">here</a>.</p><p>Some examples below:</p><pre><code class="language-js">// Using data-test-id= selector engine
await page.click(&#x27;data-test-id=foo&#x27;);
</code></pre><pre><code class="language-js">// CSS and XPath selector engines are automatically detected
await page.click(&#x27;div&#x27;);
await page.click(&#x27;//html/body/div&#x27;);
</code></pre><pre><code class="language-js">// Find node by text substring
await page.click(&#x27;text=Hello w&#x27;);
</code></pre><pre><code class="language-js">// Explicit CSS and XPath notation
await page.click(&#x27;css=div&#x27;);
await page.click(&#x27;xpath=//html/body/div&#x27;);
</code></pre><pre><code class="language-js">// Only search light DOM, outside WebComponent shadow DOM:
await page.click(&#x27;css:light=div&#x27;);
</code></pre><p>Selectors using the same or different engines can be combined using the <code>&gt;&gt;</code> separator. For example,</p><pre><code class="language-js">// Click an element with text &#x27;Sign Up&#x27; inside of a #free-month-promo.
await page.click(&#x27;#free-month-promo &gt;&gt; text=Sign Up&#x27;);
</code></pre><pre><code class="language-js">// Capture textContent of a section that contains an element with text &#x27;Selectors&#x27;.
const sectionText = await page.$eval(&#x27;*css=section &gt;&gt; text=Selectors&#x27;, e =&gt; e.textContent);
</code></pre><br><h2 id="auto-waiting">Auto-waiting</h2><p>Actions like <code>click</code> and <code>fill</code> auto-wait for the element to be visible and <a href="/pwdev/docs/1.4.0/actionability">actionable</a>. For example, click will:</p><ul><li>wait for an element with the given selector to appear in the DOM</li><li>wait for it to become visible: have non-empty bounding box and no <code>visibility:hidden</code></li><li>wait for it to stop moving: for example, wait until css transition finishes</li><li>scroll the element into view</li><li>wait for it to receive pointer events at the action point: for example, wait until element becomes non-obscured by other elements</li><li>retry if the element is detached during any of the above checks</li></ul><pre><code class="language-js">// Playwright waits for #search element to be in the DOM
await page.fill(&#x27;#search&#x27;, &#x27;query&#x27;);
</code></pre><pre><code class="language-js">// Playwright waits for element to stop animating
// and accept clicks.
await page.click(&#x27;#search&#x27;);
</code></pre><p>You can explicitly wait for an element to appear in the DOM or to become visible:</p><pre><code class="language-js">// Wait for #search to appear in the DOM.
await page.waitForSelector(&#x27;#search&#x27;, { state: &#x27;attached&#x27; });
// Wait for #promo to become visible, for example with `visibility:visible`.
await page.waitForSelector(&#x27;#promo&#x27;);
</code></pre><p>... or to become hidden or detached</p><pre><code class="language-js">// Wait for #details to become hidden, for example with `display:none`.
await page.waitForSelector(&#x27;#details&#x27;, { state: &#x27;hidden&#x27; });
// Wait for #promo to be removed from the DOM.
await page.waitForSelector(&#x27;#promo&#x27;, { state: &#x27;detached&#x27; });
</code></pre><h4 id="api-reference-3">API reference</h4><ul><li><a href="/pwdev/docs/1.4.0/api#pageclickselector-options">page.click(selector[, options])</a></li><li><a href="/pwdev/docs/1.4.0/api#pagefillselector-value-options">page.fill(selector, value[, options])</a></li><li><a href="/pwdev/docs/1.4.0/api#pagewaitforselectorselector-options">page.waitForSelector(selector[, options])</a></li></ul><br><h2 id="execution-contexts-nodejs-and-browser">Execution contexts: Node.js and Browser</h2><p>Playwright scripts run in your Node.js environment. Your page scripts run in the browser page environment. Those environments don&#x27;t intersect, they are running in different virtual machines in different processes and even potentially on different computers.</p><p>The <a href="https://github.com/microsoft/playwright/blob/master/docs/api.md#pageevaluatepagefunction-arg"><code>page.evaluate</code></a> API can run a JavaScript function in the context
of the web page and bring results back to the Node.js environment. Browser globals like
<code>window</code> and <code>document</code> can be used in <code>evaluate</code>.</p><pre><code class="language-js">const href = await page.evaluate(() =&gt; document.location.href);
</code></pre><p>If the result is a Promise or if the function is asynchronous evaluate will automatically wait until it&#x27;s resolved:</p><pre><code class="language-js">const status = await page.evaluate(async () =&gt; {
  const response = await fetch(location.href);
  return response.status;
});
</code></pre><h3 id="evaluation">Evaluation</h3><p>Functions passed inside <code>page.evaluate</code> can accept parameters. These parameters are
serialized and sent into your web page over the wire. You can pass primitive types, JSON-alike objects and remote object handles received from the page.</p><p>Right:</p><pre><code class="language-js">const data = { text: &#x27;some data&#x27;, value: 1 };
// Pass |data| as a parameter.
const result = await page.evaluate(data =&gt; {
  window.myApp.use(data);
}, data);
</code></pre><p>Wrong:</p><pre><code class="language-js">const data = { text: &#x27;some data&#x27;, value: 1 };
const result = await page.evaluate(() =&gt; {
  // There is no |data| in the web page.
  window.myApp.use(data);
});
</code></pre><h4 id="api-reference-4">API reference</h4><ul><li><a href="/pwdev/docs/1.4.0/api#pageevaluatepagefunction-arg"><code>page.evaluate(pageFunction[, arg])</code></a></li><li><a href="/pwdev/docs/1.4.0/api#frameevaluatepagefunction-arg"><code>frame.evaluate(pageFunction[, arg])</code></a></li><li>Evaluation argument <a href="/pwdev/docs/1.4.0/api#evaluationargument">examples</a></li></ul><br><h2 id="object--element-handles">Object &amp; Element handles</h2><p>Playwright can create Node-side handles to the page DOM elements or any other objects inside the page. These handles live in the Node.js process, whereas the actual objects reside in browser.</p><p>There are two types of handles:</p><ul><li><a href="/pwdev/docs/1.4.0/api#class-jshandle"><code>JSHandle</code></a> to reference any JavaScript objects in the page</li><li><a href="/pwdev/docs/1.4.0/api#class-elementhandle"><code>ElementHandle</code></a> to reference DOM elements in the page</li></ul><p>Note that since any DOM element in the page is also a JavaScript object,
Playwright&#x27;s <a href="/pwdev/docs/1.4.0/api#class-elementhandle"><code>ElementHandle</code></a> extends
<a href="/pwdev/docs/1.4.0/api#class-jshandle"><code>JSHandle</code></a>.</p><h3 id="handles-lifecycle">Handles Lifecycle</h3><ul><li>Handles can be acquired using the page methods <a href="/pwdev/docs/1.4.0/api#pageevaluatehandlepagefunction-arg"><code>page.evaluateHandle</code></a>, <a href="/pwdev/docs/1.4.0/api#pageselector"><code>page.$</code></a> or <a href="/pwdev/docs/1.4.0/api#pageselector-1"><code>page.$$</code></a> or
their frame counterparts <a href="/pwdev/docs/1.4.0/api#frameevaluatehandlepagefunction-arg"><code>frame.evaluateHandle</code></a>, <a href="/pwdev/docs/1.4.0/api#frameselector"><code>frame.$</code></a> or <a href="/pwdev/docs/1.4.0/api#frameselector-1"><code>frame.$$</code></a>.</li><li>Once created, handles will retain object from <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Memory_Management">garbage collection</a>.</li><li>Handles will be <strong>automatically disposed</strong> once the page or frame they belong to navigates or closes.</li><li>Handles can be <strong>manually disposed</strong> using <a href="/pwdev/docs/1.4.0/api#jshandledispose"><code>jsHandle.dispose</code></a> method.</li></ul><h3 id="example-elementhandle">Example: ElementHandle</h3><pre><code class="language-js">// The first parameter of the elementHandle.evaluate callback is the element handle points to.
const ulElementHandle = await page.$(&#x27;ul&#x27;);
await ulElementHandle.evaluate(ulElement =&gt; getComputedStyle(ulElement).getPropertyValue(&#x27;display&#x27;));
</code></pre><p>Handles can also be passed as arguments to <a href="/pwdev/docs/1.4.0/api#pageevaluatepagefunction-arg"><code>page.evaluate</code></a> function:</p><pre><code class="language-js">// In the page API, you can pass handle as a parameter.
const ulElementHandle = await page.$(&#x27;ul&#x27;);
await page.evaluate(uiElement =&gt; getComputedStyle(uiElement).getPropertyValue(&#x27;display&#x27;), uiElement);
</code></pre><h3 id="example-jshandle">Example: JSHandle</h3><pre><code class="language-js">// Create a new array in the page, write a reference to it in
// window.myArray and get a handle to it.
const myArrayHandle = await page.evaluateHandle(() =&gt; {
  window.myArray = [1];
  return myArray;
});

// Get current length of the array using the handle.
const length = await page.evaluate(
  (arg) =&gt; arg.myArray.length,
  { myArray: myArrayHandle }
);

// Add one more element to the array using the handle
await page.evaluate((arg) =&gt; arg.myArray.push(arg.newElement), {
  myArray: myArrayHandle,
  newElement: 2
});

// Get current length of the array using window.myArray reference.
const newLength = await page.evaluate(() =&gt; window.myArray.length);

// Release the object when it&#x27;s no longer needed.
await myArrayHandle.dispose();
</code></pre><h4 id="api-reference-5">API reference</h4><ul><li><a href="/pwdev/docs/1.4.0/api#class-jshandle">class <code>JSHandle</code></a></li><li><a href="/pwdev/docs/1.4.0/api#class-elementhandle">class <code>ElementHandle</code></a></li><li><a href="/pwdev/docs/1.4.0/api#pageevaluatehandlepagefunction-arg"><code>page.evaluateHandle</code></a></li><li><a href="/pwdev/docs/1.4.0/api#pageselector"><code>page.$</code></a></li><li><a href="/pwdev/docs/1.4.0/api#pageselector-1"><code>page.$$</code></a></li><li><a href="/pwdev/docs/1.4.0/api#jshandleevaluatepagefunction-arg"><code>jsHandle.evaluate</code></a></li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/master/website/versioned_docs/version-1.4.0/core-concepts.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/pwdev/docs/1.4.0/intro"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Getting Started</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/pwdev/docs/1.4.0/debug"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Debugging tools Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#browser" class="table-of-contents__link">Browser</a></li><li><a href="#browser-contexts" class="table-of-contents__link">Browser contexts</a></li><li><a href="#pages-and-frames" class="table-of-contents__link">Pages and frames</a></li><li><a href="#selectors" class="table-of-contents__link">Selectors</a></li><li><a href="#auto-waiting" class="table-of-contents__link">Auto-waiting</a></li><li><a href="#execution-contexts-nodejs-and-browser" class="table-of-contents__link">Execution contexts: Node.js and Browser</a><ul><li><a href="#evaluation" class="table-of-contents__link">Evaluation</a></li></ul></li><li><a href="#object--element-handles" class="table-of-contents__link">Object &amp; Element handles</a><ul><li><a href="#handles-lifecycle" class="table-of-contents__link">Handles Lifecycle</a></li><li><a href="#example-elementhandle" class="table-of-contents__link">Example: ElementHandle</a></li><li><a href="#example-jshandle" class="table-of-contents__link">Example: JSHandle</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/pwdev/docs/intro">Getting started</a></li><li class="footer__item"><a class="footer__link-item" href="/pwdev/docs/api/playwright-module">API reference</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/playwright" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://aka.ms/playwright-slack" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack</a></li><li class="footer__item"><a href="https://twitter.com/playwrightweb" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/pwdev/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/microsoft/playwright" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2020 Microsoft</div></div></div></footer></div>
<script src="/pwdev/styles.b22cf2e2.js"></script>
<script src="/pwdev/runtime~main.3a5fc328.js"></script>
<script src="/pwdev/main.6809d955.js"></script>
<script src="/pwdev/1.13f92296.js"></script>
<script src="/pwdev/2.e3aa1740.js"></script>
<script src="/pwdev/548.5dfb922d.js"></script>
<script src="/pwdev/551.36aac119.js"></script>
<script src="/pwdev/fa9bdbac.acc1761f.js"></script>
<script src="/pwdev/17896441.d2fde38e.js"></script>
<script src="/pwdev/9ea2dac8.e8b71a5a.js"></script>
</body>
</html>